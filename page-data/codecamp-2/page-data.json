{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/codecamp-2/",
    "result": {"data":{"cur":{"id":"e7a9ec21-3232-5000-ac52-d63563f5044b","html":"<h3 id=\"어느덧-코드캠프-2달-차\" style=\"position:relative;\"><a href=\"#%EC%96%B4%EB%8A%90%EB%8D%A7-%EC%BD%94%EB%93%9C%EC%BA%A0%ED%94%84-2%EB%8B%AC-%EC%B0%A8\" aria-label=\"어느덧 코드캠프 2달 차 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>어느덧 코드캠프 2달 차,,,</h3>\n<p>요새는 하루가 정말 짧다… 알고리즘은 하루에 한 문제씩 꼭 풀려고 하는 편이다. 하지만 최근 2주동안은 개인 포트폴리오를 만드느라 정신이 없었다 😵‍💫</p>\n<p>수업도 2달차가 되니까 중요한 내용들이 너무 많이 나와서 머릿 속에 넣기 바빴다.. 평소에 관심이 많던 Recoil도 배우고, accessToken과 cookie에 refreshToken을 넣어 로그인을 구현하는 법도 익혔다. 또 React와 가장 다른 점인 Next.js의 hydration이나 Callback, Promise, await/async 등 자바스크립트의 핵심 개념에 대해서도 배웠다.</p>\n<p>개인적으로 가장 어려웠던 건.. 권한 분기부분이었는데 비회원 장바구니 구현을 하는 것이 생각처럼 작동하지 않아서 정말 새벽까지 붙잡고 있었다 🤯 왜냐면 굳이 recoil을 쓰고 싶다고 낑낑거렸다,, 일반 회원이 쓰는 장바구니는 recoil을 쓰는 것도 괜찮은 방법이나, 비회원 장바구니 같은 경우는 민감한 정보도 아니고 로컬 스토리지쓰면 됐는데 🫥… 하고 싶어서 안되면 적당히 넘어가는 법은 아직 배우지 못한 것 같다..ㅠ 매번 오기로 붙잡고 있다가 체력 관리에 실패한다..</p>\n<h3 id=\"til\" style=\"position:relative;\"><a href=\"#til\" aria-label=\"til permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TIL</h3>\n<p>수업마다 TIL을 작성하는데, 요번 달 내용들은 정말 너무 어려워서 정리조차 쉽지 않았다. 알고 있는 내용이라면 누군가에게 설명해줄 수 있어야 제대로 아는 것이라 할 수 있는데,, 복습과 과제만 겨우하는 수준이라 수박 겉핥기를 하는 느낌이 들어 답답하다 😢</p>\n<h4 id=\"til-미리보기\" style=\"position:relative;\"><a href=\"#til-%EB%AF%B8%EB%A6%AC%EB%B3%B4%EA%B8%B0\" aria-label=\"til 미리보기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TIL 미리보기</h4>\n<h5 id=\"지도-연동\" style=\"position:relative;\"><a href=\"#%EC%A7%80%EB%8F%84-%EC%97%B0%EB%8F%99\" aria-label=\"지도 연동 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>지도 연동</h5>\n<p>33.514421, 126.971302</p>\n<h5 id=\"지도-가져오기\" style=\"position:relative;\"><a href=\"#%EC%A7%80%EB%8F%84-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0\" aria-label=\"지도 가져오기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>지도 가져오기</strong></h5>\n<p><a href=\"https://apis.map.kakao.com/web/guide/\">Kakao 지도 API</a></p>\n<p>위의 가이드라인은 Vanilla JS와 HTML 기준으로 만들어진 코드다. React, 특히 Next.js에서는 HTML에 접근할 수 있는 방법이 한정적이기 때문에 가이드라인만으로는 구현할 수 없다.</p>\n<p>가이드라인에서 사용하고 있는 <code class=\"language-text\">document</code> 객체는 서버사이드 렌더링을 지원하는 next.js에서는 화면을 렌더하기 전까지 <code class=\"language-text\">undefined</code>를 가진다. 따라서 별도의 세팅이 필요하다 🥸</p>\n<ol>\n<li>\n<p><strong>Head 설정</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> Head <span class=\"token keyword\">from</span> <span class=\"token string\">'next/head'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">KaKaoMapPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Head</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span>\n          <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span>\n          <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>//dapi.kakao.com/v2/maps/sdk.js?appkey=<span class=\"token punctuation\">'</span>JavaScript 앱 키 입력<span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span>\n        <span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Head</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ol>\n<p>Head 컴포넌트는 Nest.js에서 기본적으로 제공하는 기능이다. <strong>HTML에서 Head 태그 안으로 다른 기능들을 호출해서 사용</strong>할 수 있는 것처럼 Head 컴포넌트를 이용해 동일한 기능을 사용할 수 있다.</p>\n<ol start=\"2\">\n<li>\n<p><strong>카카오맵 그리기</strong></p>\n<p>가이드라인이 시키는대로 <code class=\"language-text\">지도를 담을 영역</code>을 만들고, <code class=\"language-text\">지도를 띄우는 코드</code>를 작성한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> Head <span class=\"token keyword\">from</span> <span class=\"token string\">'next/head'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">KaKaoMapPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> container <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'map'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//지도를 담을 영역의 DOM 레퍼런스</span>\n  <span class=\"token keyword\">const</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//지도를 생성할 때 필요한 기본 옵션</span>\n    center<span class=\"token operator\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">kakao</span><span class=\"token punctuation\">.</span>maps<span class=\"token punctuation\">.</span><span class=\"token function\">LatLng</span><span class=\"token punctuation\">(</span><span class=\"token number\">33.450701</span><span class=\"token punctuation\">,</span> <span class=\"token number\">126.570667</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//지도의 중심좌표.</span>\n    level<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//지도의 레벨(확대, 축소 정도)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  map <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">kakao</span><span class=\"token punctuation\">.</span>maps<span class=\"token punctuation\">.</span><span class=\"token function\">Map</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//지도 생성 및 객체 리턴</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Head</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span>\n          <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span>\n          <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>//dapi.kakao.com/v2/maps/sdk.js?appkey=<span class=\"token punctuation\">'</span>JavaScript 앱 키 입력<span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span>\n        <span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Head</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>map<span class=\"token punctuation\">\"</span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">width</span><span class=\"token punctuation\">:</span>500px<span class=\"token punctuation\">;</span><span class=\"token property\">height</span><span class=\"token punctuation\">:</span>400px<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"> // 지도를 담을 영역\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>하지만, 이렇게 코드를 작성하면 <em>document가 정의되지 않았다</em>는 에러가 발생한다.</p>\n<p>이런 에러가 뜨는 이유는 <strong>서버사이드 렌더링</strong>의 특징 때문인데, 프리렌더링을 할 때는 서버에 <code class=\"language-text\">document</code> 객체가 없기 때문이다. 그렇다면 <code class=\"language-text\">useEffect</code>를 사용하여 document가 생성된 시점 이후로 렌더링되게 해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> Head <span class=\"token keyword\">from</span> <span class=\"token string\">'next/head'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">KaKaoMapPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> container <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'map'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 지도를 담을 영역의 DOM 레퍼런스</span>\n    <span class=\"token keyword\">const</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 지도를 생성할 때 필요한 기본 옵션</span>\n      center<span class=\"token operator\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">kakao</span><span class=\"token punctuation\">.</span>maps<span class=\"token punctuation\">.</span><span class=\"token function\">LatLng</span><span class=\"token punctuation\">(</span><span class=\"token number\">33.450701</span><span class=\"token punctuation\">,</span> <span class=\"token number\">126.570667</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 지도의 중심좌표.</span>\n      level<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 지도의 레벨(확대, 축소 정도)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    map <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">kakao</span><span class=\"token punctuation\">.</span>maps<span class=\"token punctuation\">.</span><span class=\"token function\">Map</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 지도 생성 및 객체 리턴</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Head</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span>\n            <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span>\n            <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>//dapi.kakao.com/v2/maps/sdk.js?appkey=<span class=\"token punctuation\">'</span>JavaScript 앱 키 입력<span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span>\n          <span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Head</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>map<span class=\"token punctuation\">\"</span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">width</span><span class=\"token punctuation\">:</span>500px<span class=\"token punctuation\">;</span><span class=\"token property\">height</span><span class=\"token punctuation\">:</span>400px<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"> // 지도를 담을 영역\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>또한, 타입스크립트를 사용하면 kakao 객체를 인식하지 못하기 때문에 타입을 지정해줘야한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">declare</span> <span class=\"token keyword\">const</span> window<span class=\"token operator\">:</span> <span class=\"token keyword\">typeof</span> globalThis <span class=\"token operator\">&amp;</span> <span class=\"token punctuation\">{</span>\n  kakao<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ol>\n<h5 id=\"지도로-이동하는-버튼-만들기\" style=\"position:relative;\"><a href=\"#%EC%A7%80%EB%8F%84%EB%A1%9C-%EC%9D%B4%EB%8F%99%ED%95%98%EB%8A%94-%EB%B2%84%ED%8A%BC-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"지도로 이동하는 버튼 만들기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>지도로 이동하는 버튼 만들기</strong></h5>\n<p><strong>useRouter</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useRouter <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'next/router'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">KaKaoMapPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token function\">useRouter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onClickMoveToMap</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    router<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/29-03-kakao-map-routed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>onClickMoveToMap<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">맵으로 이동하기</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>next 기능인 useRouter로 페이지를 이동시키면 아래와 같은 에러가 발생한다.</p>\n<p><strong>anchor tag</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">KaKaoMapPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/29-03-kakao-map-routed<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">맵으로 이동하기</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>하지만, a태그로 이동시키면 에러 발생 X</p>\n<p><strong><em>두 개의 방식이 다른 결과를 내는 이유를 알기 위해선 SPA와 MPA에 대해서 알아야한다.</em></strong></p>\n<p><strong>SPA(Single Page Application)</strong></p>\n<ul>\n<li>**<code class=\"language-text\">router를 이용해서 페이지를 이동하는 것과 같은 방식을 채택하는 웹 서비스를 SPA</code>**라고 한다.</li>\n<li>SPA에서는 서비스에 처음 접속할 때 모든 페이지의 데이터를 다 받아온다.</li>\n<li>그려져있는 해당 페이지를 브라우저에 렌더링한다(re-rendering). ex) React\n<ul>\n<li>백엔드에서 받아오는 게 아니라 그려져 있는 페이지를 이동시키면서 화면에 띄워줌.</li>\n</ul>\n</li>\n<li>SPA의 경우 최초 로딩에는 시간이 다소 걸릴 수 있으나 페이지를 이동할 때 걸리는 시간이 MPA에 비하여 압도적으로 짧다.</li>\n</ul>\n<p><strong>MPA(Mutiple Page Application)</strong></p>\n<ul>\n<li><code class=\"language-text\">**a 태그를 이용해서 페이지를 이동하는 것과 같은 방식을 채택하는 웹 서비스**</code>를 MPA라고 한다.</li>\n<li>MPA에서는 서로 다른 url을 가진 페이지들은 각각 독립적으로 존재한다.</li>\n<li>따라서, 프론트엔드 서버에서 프리렌더링 후 브라우저로 html, css, js를 보내주는 작업을 매 페이지 이동마다 거치게 된다.</li>\n<li>MPA의 경우 페이지 이동 시마다 서버에 요청해서 데이터를 받아와야 하기 때문에 성능은 좋지 않다.</li>\n</ul>\n<p><strong>따라서, useRouter를 쓰면 지도가 그려지기도 전에 페이지 이동이 일어나서 kakao 객체를 찾을 수 없다는 것!!!</strong></p>\n<p>a 태그를 이용하면 오류는 해결되지만 페이지를 이동했을 때 페이지 자체가 새로 로딩되기 때문에 SPA 프레임워크인 Next.js를 사용하는 의미가 없어진다….! 뿐만 아니라 SEO에 대한 차이도 있는데 밑에서 알아보자.</p>\n<h5 id=\"seo검색-엔진-최적화\" style=\"position:relative;\"><a href=\"#seo%EA%B2%80%EC%83%89-%EC%97%94%EC%A7%84-%EC%B5%9C%EC%A0%81%ED%99%94\" aria-label=\"seo검색 엔진 최적화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SEO(검색 엔진 최적화)</h5>\n<ul>\n<li>h1에 요리 키워드를 넣는 것과 div에 요리 키워드를 넣는 것과는 검색 결과에 영향을 주는 것의 차이가 매우 크다! (영향: h1 > div) <strong>따라서, 시맨틱 태그를 쓰는 것이 중요함 !</strong></li>\n<li>router.push를 쓰면 SEO에 좋지 못하다…. 그렇다고 anchor는 더욱 아님.\n<ul>\n<li><strong>이벤트 핸들러 함수와 함께 페이지 이동을 할 때는 router.push를 써야한다(이 경우엔 Link 못씀)</strong></li>\n</ul>\n</li>\n<li><strong>이 두가지를 합친 Link 태그를 사용하면 된다. (단순 페이지 이동)</strong>\n<ul>\n<li>클라이언트 사이드에서 페이지 교체만 이루어지기 때문에 속도가 매우 빠름.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Link</span></span> <span class=\"token attr-name\">href</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'/29-03-kakao-map-routed'</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">맵으로 이동하기</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Link</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n</li>\n</ul>\n<h3 id=\"script-태그의-비동기-작동-이슈\" style=\"position:relative;\"><a href=\"#script-%ED%83%9C%EA%B7%B8%EC%9D%98-%EB%B9%84%EB%8F%99%EA%B8%B0-%EC%9E%91%EB%8F%99-%EC%9D%B4%EC%8A%88\" aria-label=\"script 태그의 비동기 작동 이슈 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>script 태그의 비동기 작동 이슈</h3>\n<p>Head 태그 안에 넣어놓은 script 태그로 카카오 맵을 불러올 경우, script 다운로드와 지도를 로드하는 작업이 동시에 진행되기 때문에 사용자 PC의 다운로드 속도가 느릴 경우 지도가 정상적으로 보이지 않는 문제가 발생할 수 있다. 이러한 경우 비동기적으로 작동하게 만들어줘야한다.</p>\n<ol>\n<li>\n<p>_app.tsx에 카카오 맵을 미리 다운받는다.</p>\n<ol>\n<li>이 방법을 사용하면 카카오 맵이 필요없는 페이지에서도 다운받게 되어 비효율적임 ❌❌❌</li>\n</ol>\n</li>\n<li>\n<p><strong>스크립트 로드 기다려서 처리하기</strong></p>\n<ol>\n<li>스크립트가 다운로드가 끝나면 카카오맵을 가져오도록하기 ~</li>\n<li>kakao.maps.load</li>\n</ol>\n<p><a href=\"https://apis.map.kakao.com/web/documentation/#load_load\">Kakao 지도 API</a></p>\n</li>\n</ol>\n<h5 id=\"callback\" style=\"position:relative;\"><a href=\"#callback\" aria-label=\"callback permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Callback</h5>\n<p><strong>함수의 인자에 들어가는 함수</strong>를 콜백 함수라고 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token function\">aaa</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">aaa</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>async/await(아래 코드와 동일)</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">aaa</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">요청으로 받아온 데이터는 %{result}입니다.</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>async/await가 없던 시절에는 어떻게 했을까?</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onClickCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> aa <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">XMLHttpRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  aa<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'get'</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http://numbersapi.com/random?min=1&amp;max=200</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  aa<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  aa<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'load'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">res<span class=\"token operator\">:</span> any</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> num <span class=\"token operator\">=</span> res<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>response<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">' '</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> bb <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">XMLHttpRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    bb<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'get'</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http://koreanjson.com/posts/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>num<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    bb<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    bb<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'load'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">res<span class=\"token operator\">:</span> any</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> userId <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>UserId<span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">const</span> cc <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">XMLHttpRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      cc<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'get'</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http://koreanjson.com/posts?userId=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>userId<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      cc<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      cc<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'load'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>callback의 문제점</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// 콜백 지옥</span></code></pre></div>\n<p><strong>promise</strong></p>\n<ul>\n<li>오래 걸리는 작업을 promise로 만듦.</li>\n<li>순서 예측이 힘들다.</li>\n</ul>\n<p>하지만 콜백 지옥과 비슷하게 되는 것을 아래와 같이 promise chaining으로 해결!</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onClickPromise</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 콜백 지옥과 다름(Promise chain)</span>\n  axios <span class=\"token comment\">// 실제 axios</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'첫번째 주소'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> axios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'두번째 주소'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> axios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'세번째 주소'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>async/await</strong></p>\n<ul>\n<li>promise 앞에 사용할 수 있다!</li>\n<li>따라서 axios는 promise로 만들어짐.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onClickAsyncAwait</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// await는 Promise 앞에서만 사용할 수 있음!</span>\n  <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> axios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'첫번째 주소'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h5 id=\"task-queue\" style=\"position:relative;\"><a href=\"#task-queue\" aria-label=\"task queue permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Task Queue</h5>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onClickPromise</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1번 실행됩니다!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  axios\n    <span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://koreanjson.com/posts/1'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2번 실행됩니다!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span> axios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://koreanjson.com/posts/2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'3번 실행됩니다!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span> axios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://koreanjson.com/posts/3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'4번 실행됩니다!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'5번 실행됩니다!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>실행 결과</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token number\">1</span>번 실행됩니다<span class=\"token operator\">!</span>\n<span class=\"token number\">5</span>번 실행됩니다<span class=\"token operator\">!</span>\n<span class=\"token number\">2</span>번 실행됩니다<span class=\"token operator\">!</span>\n<span class=\"token number\">3</span>번 실행됩니다<span class=\"token operator\">!</span>\n<span class=\"token number\">4</span>번 실행됩니다<span class=\"token operator\">!</span></code></pre></div>\n<p>promise가 차례대로 실행되지 않는 이유는 Task Queue에 쌓여 있다가 오래 처리되는 건 Background로 빠지기 때문! 따라서 실행순서를 예측하기 어렵기 때문에 조금 더 <strong>직관적</strong>인 async/await가 나오게 됨!</p>\n<h5 id=\"task-queue의-종류\" style=\"position:relative;\"><a href=\"#task-queue%EC%9D%98-%EC%A2%85%EB%A5%98\" aria-label=\"task queue의 종류 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Task Queue의 종류</h5>\n<ul>\n<li>매크로 큐</li>\n<li>마이크로 큐</li>\n</ul>\n<p><a href=\"https://leedawn.notion.site/5-f53b2a262c0947a589761dddca73a4ee\">이번달 TIL은 여기서 확인하실 수 있습니다 🙋</a></p>\n<h3 id=\"느낀-점\" style=\"position:relative;\"><a href=\"#%EB%8A%90%EB%82%80-%EC%A0%90\" aria-label=\"느낀 점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>느낀 점</h3>\n<p>여러 가지 실무에서 많이 사용하는 라이브러리들(카카오맵 지도 연동, 아임포트 연동 등)을 배울 때는 비교적 쉬워서 한숨 돌릴 수 있었다. react-hook-form 같은 경우는 사용해본 적이 있는데, 더 쉽게 사용하는 법을 배워서 너무 좋았다. 에러메시지를 뱉게 할 때, formState를 불러오면 간단하게 구현할 수 있는 부분이라던가, 폼 검증을 할 때 Yup을 쓴다던가 하는,,,!</p>\n<p>코드를 치면서 어떻게 하면 깔끔하게 짤 수 있을까에 대해서 생각을 많이 한다. 그래서 세팅에 되게 많이 신경쓰고, 개인 포트폴리오에 있어서도 commit message를 잘 정리하고 싶은 마음에 시간을 많이 들인다. 문서화도 중요하다는 생각에 겪은 에러를 해결한 내용을 따로 정리해놓았다.</p>\n<p>하지만.. 시간이 너무 한정이어서 자칫하면 비효율적이기 쉬워지는 요즘이다ㅠ.. 밸런스를 잘 맞춰야하는데 어렵다.. 🥲 우선순위를 다시 재정비해서 개인 포트폴리오에 시간을 많이 쏟아야할 것 같다. 구현하고 싶은 것들이 너무 많다ㅠ 반응형은 협업 들어가기 전에 반드시 해볼 예정이고, 챗봇이라던가 상단으로 바로 갈 수 있는 버튼 등을 만들고 싶다.. 아 storybook도 써보고 싶은데 ㅎ.. 열심히 살아야지… 😛</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EC%96%B4%EB%8A%90%EB%8D%A7-%EC%BD%94%EB%93%9C%EC%BA%A0%ED%94%84-2%EB%8B%AC-%EC%B0%A8\">어느덧 코드캠프 2달 차,,,</a></p>\n</li>\n<li>\n<p><a href=\"#til\">TIL</a></p>\n<ul>\n<li>\n<p><a href=\"#til-%EB%AF%B8%EB%A6%AC%EB%B3%B4%EA%B8%B0\">TIL 미리보기</a></p>\n<ul>\n<li><a href=\"#%EC%A7%80%EB%8F%84-%EC%97%B0%EB%8F%99\">지도 연동</a></li>\n<li><a href=\"#%EC%A7%80%EB%8F%84-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0\"><strong>지도 가져오기</strong></a></li>\n<li><a href=\"#%EC%A7%80%EB%8F%84%EB%A1%9C-%EC%9D%B4%EB%8F%99%ED%95%98%EB%8A%94-%EB%B2%84%ED%8A%BC-%EB%A7%8C%EB%93%A4%EA%B8%B0\"><strong>지도로 이동하는 버튼 만들기</strong></a></li>\n<li><a href=\"#seo%EA%B2%80%EC%83%89-%EC%97%94%EC%A7%84-%EC%B5%9C%EC%A0%81%ED%99%94\">SEO(검색 엔진 최적화)</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#script-%ED%83%9C%EA%B7%B8%EC%9D%98-%EB%B9%84%EB%8F%99%EA%B8%B0-%EC%9E%91%EB%8F%99-%EC%9D%B4%EC%8A%88\">script 태그의 비동기 작동 이슈</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#callback\">Callback</a></li>\n<li><a href=\"#task-queue\">Task Queue</a></li>\n<li><a href=\"#task-queue%EC%9D%98-%EC%A2%85%EB%A5%98\">Task Queue의 종류</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%8A%90%EB%82%80-%EC%A0%90\">느낀 점</a></p>\n</li>\n</ul>\n</div>","excerpt":"어느덧 코드캠프 2달 차,,, 요새는 하루가 정말 짧다… 알고리즘은 하루에 한 문제씩 꼭 풀려고 하는 편이다. 하지만 최근 2주동안은 개인 포트폴리오를 만드느라 정신이 없었다 😵‍💫 수업도 2달차가 되니까 중요한 내용들이 너무 많이 나와서 머릿 속에 넣기 바빴다.. 평소에 관심이 많던 Recoil도 배우고, accessToken과 cookie에 refreshToken을 넣어 로그인을 구현하는 법도 익혔다. 또 React와 가장 다른 점인 Next.js의 hydration이나 Callback, Promise, await/async 등 자바스크립트의 핵심 개념에 대해서도 배웠다. 개인적으로 가장 어려웠던 건.. 권한 분기부분이었는데 비회원 장바구니 구현을 하는 것이 생각처럼 작동하지 않아서 정말 새벽까지 붙잡고 있었다 🤯 왜냐면 굳이 recoil을 쓰고 싶다고 낑낑거렸다,, 일반 회원이 쓰는 장바구니는 recoil을 쓰는 것도 괜찮은 방법이나, 비회원 장바구니 같은 경우는 민감한 정보도 …","frontmatter":{"date":"August 15, 2022","title":"코드캠프 2달차 회고","categories":"회고","author":"leedawn","emoji":"🏕"},"fields":{"slug":"/codecamp-2/"}},"next":{"id":"8afc2905-b73f-5c76-8757-822346fd3241","html":"<h2 id=\"부트캠프에-들어온-이유-\" style=\"position:relative;\"><a href=\"#%EB%B6%80%ED%8A%B8%EC%BA%A0%ED%94%84%EC%97%90-%EB%93%A4%EC%96%B4%EC%98%A8-%EC%9D%B4%EC%9C%A0-\" aria-label=\"부트캠프에 들어온 이유  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>부트캠프에 들어온 이유 💫</h2>\n<p>패스트캠퍼스 프론트엔드 과정을 수료하고, 마지막 프로젝트인 기업 연계 프로젝트를 진행하면서 스스로 많이 부족하다는 것을 깨달았다 🥲\n간단한 폼을 만들어서 api를 연결하는 것도 밤을 새가면서 했다.. 또 마지막엔 git branch가 꼬여서 메인 브랜치에 반영되지 않았다..😇\n자괴감이 컸지만.. 왜 실패했는지에 대한 이유를 정확히 바라봐야했다. 이유는 자바스크립트에 대한 개념이 제대로 잡혀있지 않아서 React나 Vue 같은 프레임워크를 쓰는 것에 많은 어려움을 느꼈다.</p>\n<p>그래서, 수료 후 개발자 커뮤니티에서 자바스크립트 Deep Dive 책을 같이 읽으면서 토론하는 스터디에 참여하여 기본기를 쌓았다.\n덤으로 현직자들과의 소통을 하면서 여러 정보들을 얻을 수 있었는데, 그 중에서 어떤 분이 자바스크립트의 기본을 탄탄히 하는 것은 좋으나\n빠른 취직을 위해서라면 좋은 방법이 아닌 것 같다는 피드백을 받았다.</p>\n<p>수료 후 하반기 취업을 목표로 하고 있었기 때문에, 시간이 비교적 여유가 있었고 이왕이면 제대로 취업을 하고 싶은 마음에 오프라인 교육 과정을 찾았다.\n수많은 부트캠프들의 커리큘럼들을 비교한 결과, 코드캠프가 실무랑 가장 맞닿아있다고 생각이 들어서 바로 참여하게 되었다.</p>\n<h2 id=\"한달동안-뭘-배웠나-\" style=\"position:relative;\"><a href=\"#%ED%95%9C%EB%8B%AC%EB%8F%99%EC%95%88-%EB%AD%98-%EB%B0%B0%EC%9B%A0%EB%82%98-\" aria-label=\"한달동안 뭘 배웠나  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>한달동안 뭘 배웠나? 🙋</h2>\n<p>올해 들어서 다시 TIL을 쓰는 습관을 만들려고 노력했는데, 부트캠프에 와서는 하루도 빠짐없이 정리했다. <del>레포에도 올려야되는데…</del></p>\n<p>썼던 TIL 중 하나를 예시로 들자면, 알고 있는 건 skip하고 정말 새롭게 알게된 내용을 위주로 정리했다. 질문이 생기면 TIL에다가 적어놓고 동료나 멘토님에게 질문했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"md\"><pre class=\"language-md\"><code class=\"language-md\"><span class=\"token title important\"><span class=\"token punctuation\">##</span> pagination</span>\n\n<span class=\"token title important\"><span class=\"token punctuation\">###</span> 동작 방식</span>\n\n여기서는 게시글 목록에서의 페이지네이션 구현을 예시로 들어보겠다.\n\n<span class=\"token list punctuation\">1.</span> 게시글 목록 불러오기(api 호출)\n<span class=\"token list punctuation\">2.</span> 페이지네이션의 숫자를 클릭할 때 해당 페이지에 해당하는 데이터로 변경(refetch)\n<span class=\"token list punctuation\">3.</span> 페이지네이션의 숫자를 하드코딩하는 것을 매우 비효율적. map을 이용해서 뿌려준다.\n<span class=\"token list punctuation\">4.</span> next / prev 구현\n<span class=\"token list punctuation\">5.</span> 처음 페이지에서 이전 페이지 버튼을 누르게 되면 음수가 나오게 된다. 막아줘야함.\n   그리고 마지막 페이지를 지나갔는데도 계속 다음 페이지를 불러오는 이슈 해결 필요\n<span class=\"token list punctuation\">6.</span> next / prev 후 refetch\n\n<span class=\"token title important\"><span class=\"token punctuation\">###</span> refetch의 2가지 방법</span>\n\n<span class=\"token list punctuation\">1.</span> refetch\n\n   <span class=\"token list punctuation\">-</span> pagination\n\n<span class=\"token list punctuation\">2.</span> mutation 후 refetch\n\n   <span class=\"token list punctuation\">-</span> ex) 게시물 삭제 후 refetch\n\n<span class=\"token title important\"><span class=\"token punctuation\">###</span> 사용하지 않는 파라미터</span>\n\n언더바(\\_)를 사용한다.\n\n{\n[1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((\\_, index) => (\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">key</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{index</span> <span class=\"token attr-name\">+</span> <span class=\"token attr-name\">1}</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{String(index</span> <span class=\"token attr-name\">+</span> <span class=\"token attr-name\">1)}</span> <span class=\"token special-attr\"><span class=\"token attr-name\">onClick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token value javascript language-javascript\"><span class=\"token punctuation\">{</span>onClickPage<span class=\"token punctuation\">}</span></span></span></span><span class=\"token punctuation\">></span></span>\n{index + 1}\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\n));\n}\n\n<span class=\"token title important\"><span class=\"token punctuation\">###</span> 이전 페이지, 다음 페이지</span>\n\n백엔드 fetchBoards를 refetch할 때는 10개씩 가져온다. 이 기능을 만들 때는 기준 페이지가 필요하다.\n\n<span class=\"token title important\"><span class=\"token punctuation\">###</span> **마지막 페이지**</span>\n\n마지막 페이지면 다음 페이지 버튼 클릭을 막아야함.\n\n<span class=\"token list punctuation\">1.</span> 마지막 페이지 계산하기\n<span class=\"token list punctuation\">2.</span> 다음 페이지 클릭 제한 걸기\n<span class=\"token list punctuation\">3.</span> 마지막 페이지까지만 노출\n\n<span class=\"token title important\"><span class=\"token punctuation\">###</span> state 끌어올리기</span>\n\n부모 컴포넌트 (자식 컴포넌트1, 자식 컴포넌트2)인 상황에서 자식 컴포넌트1의 state를 자식 컴포넌트2에서도 보여주려면?\n\n<span class=\"token list punctuation\">-</span> 자식 컴포넌트1에 있는 state를 부모 컴포넌트로 끌어올려서 props로 내려준다.\n<span class=\"token list punctuation\">-</span> 하지만 카운트를 만들었다고 할 때, 자식컴포넌트1에 카운트 업을 하는 버튼이 있다면 어떻게 해결해야할까\n  <span class=\"token list punctuation\">-</span> (방법1) setState를 props로 내려준다. 그럼 자식 컴포넌트가 부모의 state를 변경할 수 있다.\n  <span class=\"token list punctuation\">-</span> (방법2) setState를 매번 내려주는 것도 비효율적일 수 있다. 그럴 땐 setState가 포함된 함수를 props로 넘겨주면 된다.\n\n<span class=\"token title important\"><span class=\"token punctuation\">###</span> 페이지네이션 재활용</span>\n\n<span class=\"token list punctuation\">-</span> 한 번 만들어놓은 페이지네이션 함수는 index값만 넘겨주면 어디서든 사용할 수 있다.\n<span class=\"token list punctuation\">-</span> 두 개의 컴포넌트에서 동시에 사용하는 api 등은 부모로 끌어올린다.\n\n<span class=\"token title important\"><span class=\"token punctuation\">###</span> 스프레드 연산자 사용 예시</span>\n\nconst [BoardInput, setBoardInput] = useState({\nwriter: '',\ntitle: '',\ncontents: '',\n});\n\nconst changeWriter = (event) => {\nsetBoardInput(...event);\n};</code></pre></div>\n<p>한달 동안 꾸준히 쓴 TIL은 여기에서 볼 수 있습니다 😉<br>\n<a href=\"https://leedawn.notion.site/TIL-822ffc34f5504853b85f4241d6acf1f3\">https://leedawn.notion.site/TIL-822ffc34f5504853b85f4241d6acf1f3</a></p>\n<h2 id=\"앞으로의-계획\" style=\"position:relative;\"><a href=\"#%EC%95%9E%EC%9C%BC%EB%A1%9C%EC%9D%98-%EA%B3%84%ED%9A%8D\" aria-label=\"앞으로의 계획 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>앞으로의 계획</h2>\n<p>부트캠프 일정에 맞춰 한달을 기준으로 회고를 올리면서 되돌아보려고한다. 지금은 개인 포트폴리오 작업을 하고 있는데, api를 불러오고 연결하는 작업이 꽤나 자연스러워진 것 같다. 타입스크립트를 쓰는 법은 여전히 어렵지만.. react도 기본기가 탄탄해지고 있는 느낌이 든다. 매일 새롭게 배우는 내용이 쏟아져서 힘들지만 동료들이나 멘토님이 있어서 열심히 할 수 있는 것 같다. 확실히 사람들과 부딪히며 코드를 쓰는 게 즐겁다.</p>\n<p>만들어보고 싶은 프로젝트는 많지만, 개인 프로젝트 두어개와 팀 프로젝트로 포트폴리오를 꾸며서 최대한 빠르게 취업을 하고싶다 🔥</p>","frontmatter":{"date":"July 28, 2022","title":"코드캠프 1달차 회고","categories":"회고","author":"leedawn","emoji":"🏕"},"fields":{"slug":"/codecamp-1/"}},"prev":{"id":"c981ea3d-9067-542f-8bda-fa3409635668","html":"<p>async와 await라는 특별한 문법을 사용하면 promise를 좀 더 편하게 사용할 수 있다. async, await는 매우 편리하고, 사용법도 어렵지 않다.</p>\n<h3 id=\"async\" style=\"position:relative;\"><a href=\"#async\" aria-label=\"async permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>async</h3>\n<p><code class=\"language-text\">async</code>는 function 앞에 위치한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>function 앞에 <code class=\"language-text\">async</code>를 붙이면 해당 함수는 항상 promise를 반환한다. promise가 아닌 값을 반환하더라도 이행 상태의 promise(resolved promise)로 감싸 이행된 promise가 반환되도록 한다.</p>\n<p>아래 예시의 함수를 호출하면 <code class=\"language-text\">result</code>가 1인 이행 Promise가 반환된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>alert<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1</span></code></pre></div>\n<p><code class=\"language-text\">async</code>가 붙은 함수는 반드시 promise를 반환하고, promise가 아닌 것은 promise로 감싸 반환한다. 또한 <code class=\"language-text\">await</code>는 <code class=\"language-text\">async</code>함수 안에서만 동작한다.</p>\n<p><code class=\"language-text\">await</code>란 무엇인지 알아보자.</p>\n<h3 id=\"await\" style=\"position:relative;\"><a href=\"#await\" aria-label=\"await permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>await</h3>\n<p><code class=\"language-text\">await</code> 문법은 아래와 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// await는 async 함수 안에서만 동작합니다.</span>\n<span class=\"token keyword\">let</span> value <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> promise<span class=\"token punctuation\">;</span></code></pre></div>\n<p>자바스크립트는 <code class=\"language-text\">await</code>키워드를 만나면 promise가 처리될 때까지 기다린다(정말 뜻 그대로 기다림). 결과는 그 이후 반환된다.</p>\n<p>1초 후 실행되는 promise를 예시로 사용하여 <code class=\"language-text\">await</code>가 어떻게 동작하는지 살펴보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> promise <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'완료!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">let</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> promise<span class=\"token punctuation\">;</span> <span class=\"token comment\">// 프라미스가 이행될 때까지 기다림 (*)</span>\n\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// \"완료!\"</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>함수를 호출하고, 함수 본문이 실행되는 도중에 (*)로 표시한 줄에서 실행이 잠시 ‘중단’되었다가 promise가 처리되면 실행이 재개된다. 이때 promise 객체의 result 값이 변수 result에 할당된다. 따라서 위 예시를 실행하면 1초 뒤에 ‘완료!’가 출력된다.</p>\n<p><code class=\"language-text\">await</code>는 말 그대로 promise가 처리될 때까지 함수 실행을 기다리게 만들며, promise가 처리되면 그 결과와 함께 실행이 재개되죠. promise가 처리되길 기다리는 동안엔 엔진이 다른 일(다른 스크립트를 실행, 이벤트 처리 등)을 할 수 있기 때문에, CPU 리소스가 낭비되지 않는다.</p>\n<p><code class=\"language-text\">await</code>는 <code class=\"language-text\">promise.then</code>보다 좀 더 세련되게 promise의 result 값을 얻을 수 있도록 해주는 문법이다. <code class=\"language-text\">promise.then</code>보다 가독성 좋고 쓰기도 쉽다.</p>\n<h3 id=\"유의할-점\" style=\"position:relative;\"><a href=\"#%EC%9C%A0%EC%9D%98%ED%95%A0-%EC%A0%90\" aria-label=\"유의할 점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>유의할 점</h3>\n<p>일반함수엔 <code class=\"language-text\">await</code>를 사용할 수 없다! <code class=\"language-text\">async</code>함수가 아닌데 <code class=\"language-text\">await</code>를 사용하면 문법 에러가 발생한다.</p>","frontmatter":{"date":"August 26, 2022","title":"async, await","categories":"JS","author":"leedawn","emoji":"🧐"},"fields":{"slug":"/codecamp_blog_1/"}},"site":{"siteMetadata":{"siteUrl":"https://leedawnn.github.io","comments":{"utterances":{"repo":"leedawnn/leedawnn.github.io"}}}}},"pageContext":{"slug":"/codecamp-2/","nextSlug":"/codecamp-1/","prevSlug":"/codecamp_blog_1/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}